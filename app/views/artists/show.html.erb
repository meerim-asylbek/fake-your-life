<div class="container mt-4">
  <div class="p-2 mb-3">
    <h1><%= @artist.name %></h1>
    <div class="d-flex">
      <small class="mx-3"><%= @artist.category %></small>
      •
      <small class="mx-3"><%= @artist.address %></small>
    </div>
  </div>
  <div class="glide rounded mb-4">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides">
        <li class="glide__slide"><%= cl_image_tag @artist.photos[0].key %></li>
        <li class="glide__slide"><%= cl_image_tag @artist.photos[1].key %></li>
        <li class="glide__slide"><%= cl_image_tag @artist.photos[2].key %></li>
      </ul>
    </div>
    <div class="glide__arrows" data-glide-el="controls">
      <button class="glide__arrow glide__arrow--left" data-glide-dir="<">prev</button>
      <button class="glide__arrow glide__arrow--right" data-glide-dir=">">next</button>
    </div>
  </div>
  <h2><%= @artist.name %></h2>
  <div class="d-flex mb-3">
    <small class="mx-2"><%= @artist.age %> years old</small>
    •
    <small class="mx-2">From <%= @artist.price %>€</small>
    •
    <small class="mx-2">Find me here: <%= @artist.address %></small>
  </div>
  <hr class="mb-3">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-sm-6 my-3">
        <h4>description:</h4>
        <p><%= @artist.description %></p>
        <hr class="my-4">
        <div class="neu-form my-5 p-4">
          <h5 class="py-3">Add your review</h5>
          <%= simple_form_for [@artist, @review], data: { controller: "star-form" } do |f| %>
            <%= f.input :comment, placeholder: "Add your review here..." %>
            <%= f.input :rating, collection: (1..5).to_a, label: "Rate your experience", input_html: {data: { controller: "star-rating", action: "change->star-form#submit"} }  %>
            <%= f.button :submit, class:"btn btn-outline-success my-3" %>
          <% end %>
        </div>
        <div class="py-4 mb-4">
          <h3>Reviews</h3>
          <% if @artist.reviews.empty? %>
            <small><em class="text-muted">Be the first one to review this list</em></small>
          <% end %>
          <% @artist.reviews.each do |review| %>
            <div>
              <% review.rating.times do %>
                <i class="fa-solid fa-star"></i>
              <% end %>
              <small><em class="text-muted"><%= distance_of_time_in_words_to_now(review.created_at) %> ago</em></small>
              <p class="mb-0"><%= review.comment %></p>
            </div>
            <hr>
          <% end %>
        </div>
      </div>
      <div class="col-12 col-sm-6">
        <%= render "hires/form", hire: @hire, hire_add: @hire_add %>
      </div>
    </div>
  </div>
</div>
